import React, { useCallback } from "react";
import useWritingStore from "@/store/useWritingStore";
import { getHashTags } from "@/utils/regExpression";
import { postWritingsAPI } from "@/apis/post";

const dummyImages = [
  "data:image/png;base64,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",
  "https://images.unsplash.com/photo-1516259762381-22954d7d3ad2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8Y29kZXxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=500&q=60",
  "https://images.unsplash.com/photo-1576836165612-8bc9b07e7778?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTh8fGNvZGV8ZW58MHx8MHx8&auto=format&fit=crop&w=500&q=60",
];

const RegisterButton = (): JSX.Element => {
  const {
    title,
    language,
    code,
    content,
    images,
    setImages,
    setLanguage,
    setEmpty,
  } = useWritingStore((state) => ({
    title: state.title,
    language: state.language,
    code: state.code,
    content: state.content,
    images: state.images,
    setImages: state.setImages,
    setLanguage: state.setLanguage,
    setEmpty: state.setEmptyWithoutLanguage,
  }));

  const submitWholeWriting = useCallback(() => {
    setImages(dummyImages[0]);
    setLanguage("javascript");
    postWritingsAPI({
      title,
      content,
      code,
      language,
      images,
      tags: getHashTags(content),
    })
      .then((res) => {
        alert(res.message);
        setEmpty();
      })
      .catch((err: any) => console.error(err));
  }, []);

  return (
    <button
      onClick={submitWholeWriting}
      className="submit-modal__button--register"
    >
      등록
    </button>
  );
};

export default RegisterButton;
